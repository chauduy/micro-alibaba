<nz-layout class="app-layout">
  <nz-sider
    nzCollapsible
    nzWidth="256px"
    [nzCollapsedWidth]="getSidebarWidth()"
    nzBreakpoint="lg"
    [(nzCollapsed)]="isCollapsed"
    [nzTrigger]="null"
    [ngClass]="isMobile ? 'sider-overlay' : 'menu-sidebar'"
  >
    <div class="sidebar-logo flex items-center justify-between border-b border-white">
      <a
        href="https://ng.ant.design/"
        target="_blank"
        [ngClass]="isCollapsed ? 'hidden' : ''"
        class="flex items-center"
      >
        <img src="/brand.png" class="h-10 w-10 mr-2" />
        <div class="text-[#ff6a00] text-[20px] font-bold">Alibaba</div>
      </a>
      <span
        class="text-[20px] cursor-pointer transition-all-[0.3s] text-white"
        [ngClass]="isCollapsed ? 'pl-1.5' : 'pr-4'"
        (click)="isCollapsed = !isCollapsed"
      >
        <nz-icon
          class="hover:text-[#ff6a00]!"
          [nzType]="isCollapsed ? 'double-right' : 'double-left'"
        />
      </span>
    </div>

    <div class="flex flex-col">
      <div class="hover:bg-slate-400">
        <a
          class="flex items-center text-white py-4 menu-item"
          [ngClass]="isCollapsed ? 'justify-center pl-0' : 'pl-6'"
          routerLink="/account"
        >
          <span
            class="text-[25px] text-white shrink-0"
            [ngClass]="isCollapsed ? '' : 'mr-6 pl-1.5'"
          >
            <nz-icon nzType="home" />
          </span>
          <span
            class="menu-text text-white whitespace-nowrap"
            [ngClass]="isCollapsed ? 'menu-text-collapsed' : 'menu-text-expanded'"
          >
            Home
          </span>
        </a>
      </div>
      <div class="hover:bg-slate-400">
        <a
          class="flex items-center text-white py-4 menu-item"
          [ngClass]="isCollapsed ? 'justify-center pl-0' : 'pl-6'"
          routerLink="/order"
        >
          <span
            class="text-[25px] text-white shrink-0"
            [ngClass]="isCollapsed ? '' : 'mr-6 pl-1.5'"
          >
            <nz-icon nzType="file-text" />
          </span>
          <span
            class="menu-text text-white whitespace-nowrap"
            [ngClass]="isCollapsed ? 'menu-text-collapsed' : 'menu-text-expanded'"
          >
            Order
          </span>
        </a>
      </div>
      <div class="hover:bg-slate-400">
        <a
          class="flex items-center text-white py-4 menu-item"
          [ngClass]="isCollapsed ? 'justify-center pl-0' : 'pl-6'"
          routerLink="/welcome"
        >
          <span
            class="text-[25px] text-white shrink-0"
            [ngClass]="isCollapsed ? '' : 'mr-6 pl-1.5'"
          >
            <nz-icon nzType="unordered-list" />
          </span>
          <span
            class="menu-text text-white whitespace-nowrap"
            [ngClass]="isCollapsed ? 'menu-text-collapsed' : 'menu-text-expanded'"
          >
            My list
          </span>
        </a>
      </div>
      <div>
        <a
          class="flex items-center text-white py-4 menu-item"
          [ngClass]="isCollapsed ? 'justify-center pl-0' : 'pl-6'"
          routerLink="/order"
        >
          <span
            class="text-[25px] text-white shrink-0"
            [ngClass]="isCollapsed ? '' : 'mr-6 pl-1.5'"
          >
            <nz-icon nzType="logout" />
          </span>
          <span
            class="menu-text text-white whitespace-nowrap"
            [ngClass]="isCollapsed ? 'menu-text-collapsed' : 'menu-text-expanded'"
          >
            Sign out
          </span>
        </a>
      </div>
    </div>
  </nz-sider>

  <nz-layout class="overflow-y-auto">
    <nz-header [ngClass]="isMobile ? '' : 'hidden!'">
      <div class="app-header py-3 px-4 flex items-center">
        <img src="/brand.png" class="h-10 w-10 mr-4" />
        <span
          class="cursor-pointer flex items-center justify-center"
          (click)="isCollapsed = !isCollapsed"
        >
          <nz-icon nzType="bars" style="font-size: 32px; width: 32px; height: 32px"></nz-icon>
        </span>
      </div>
    </nz-header>

    <nz-content>
      @if (favoriteList() === null || orderList() === null) {
      <div class="flex items-center justify-center h-screen">
        <app-loading />
      </div>
      } @else {
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
      }
    </nz-content>
  </nz-layout>
</nz-layout>
